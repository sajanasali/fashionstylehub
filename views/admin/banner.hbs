
 {{>adminheader}}

<style>
  label {
    font-weight: 600;
  }

  .btn-primary {
    width: 100%;
    margin-top: 1em;
  }

  .error-message {
    color: red;
    margin-top: 5px;
    text-align: center;
  }
</style>



<link rel="stylesheet" href="/css/adminCss/addproduct.css" type="text/css">






  <div class="container">
    <div class="row ">
      <div class="col-lg-3 col-md-3 login-box"></div>
      <div class="col-lg-6 col-md-8 login-box">

        <h2><span class="px-2">Banner</span></h2>
        <div class="col py-3" style="text-align: center;">
             <div style="margin-left: 100px;">
        <a href="/admin/add_banner" type="button" class="btn btn-primary"
          style="margin-left: auto; margin-bottom: 15px;">Add banner</a>
      </div>
             <table class="table table-hover" style="border-top: 1px solid black;">
        <thead>
          <tr>
            <th scope="col">Title</th>
            <th scope="col">Image</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          {{#each bannerData}}
          <tr>
            
            <td>{{this.title}}</td>
            <td><img style="width 40px; height: 40px; " src="/images/{{this.image}}" alt=" image"></td>
            <td>
              {{!-- <a href="/admin/edit_category/{{this.id}}" onclick="return confirm ('Are you sure want to edit?')"
                type="button" class="btn btn-warning">Edit</a> --}}
              {{!-- <a href="/admin/delete_banner?id={{this.id}}" onclick="return confirm ('Are you sure want to delete?')"
                type="button" class="btn btn-danger">Delete</a> --}}
                <a href="/admin/deletebanner/{{this._id}}" onclick="deleteBanner(event)" type="button" class="btn btn-danger">Delete</a>

            </td>
          </tr>
          {{/each}}
        </tbody>
      </table>
        </div>
      <a href="/admin/dashboard">Back</a>
      </div>
    </div>
  </div>
</div>


<!-- JavaScript Libraries -->
 <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.all.min.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="lib/chart/chart.min.js"></script>
<script src="lib/easing/easing.min.js"></script>
<script src="lib/waypoints/waypoints.min.js"></script>




<!-- Template Javascript -->
<script src="/admin/js/main.js"></script>


<script>
  function confirmAndDelete(id) {
    if (confirm('Are you sure you want to delete?')) {
      // If the user confirms, proceed with the deletion by navigating to the delete_banner route
      window.location.href = `/admin/delete_banner?id=${id}`;
    }
  }

   function deleteBanner(event) {
            event.preventDefault();
            console.log("heelooooo")
            Swal.fire({
                title: 'Delete Banner',
                text: 'Are you sure you want to delete this coupon?',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonText: 'Delete',
                cancelButtonText: 'Cancel',
            }).then((result) => {
                if (result.isConfirmed) {
                    console.log(event.target.href)
                    window.location.href = event.target.href;
                    
                }
            });
        }
</script>





{{>adminfooter}}